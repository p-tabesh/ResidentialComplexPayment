# ApartmentPayment

### متن یکپارچه‌شده:

**محاسبه شارژ ساختمان**  

هدف سیستم، تسهیل محاسبه شارژ یک مجتمع مسکونی است. نیازمندی‌های سیستم به شرح زیر است:  

یک مجتمع مسکونی دارای چندین ساختمان است و هر ساختمان شامل چندین واحد می‌باشد. این مجتمع مجموعه‌ای از هزینه‌های مشترک دارد که باید به عهده ساکنین واحدها، متناسب با اطلاعات واحد و خانوار، تقسیم شود.  

هر هزینه شامل یک فاکتور و یک بازه تاریخی است. برای مثال، هزینه قبض گاز می‌تواند ۱۲ میلیون ریال و برای بازه تاریخی ۱۴۰۰-۰۵-۱۰ تا ۱۴۰۰-۰۸-۰۱ باشد.  

**فرمول‌های محاسباتی:**  
برای هر نوع هزینه، باید بتوان مشخص کرد که از کدام فرمول محاسباتی (بر اساس اطلاعات واحد و خانوار ساکن) استفاده شود. نمونه‌هایی از این فرمول‌ها عبارتند از:  
۱. تقسیم به صورت مساوی بین همه واحدها (همه واحدها به یک اندازه در هزینه سهیم هستند).  
۲. تقسیم بر اساس نسبت مساحت واحد.  
۳. تقسیم بر اساس نسبت مساحت واحد و تعداد نفرات ساکن.  
* باید بتوان در آینده فرمول‌های جدید به سیستم اضافه کرد.  

**تقسیم هزینه بر اساس بازه سکونت:**  
ممکن است در بازه زمانی یک فاکتور، ساکن واحد تغییر کرده باشد. بنابراین، تسهیم هزینه باید به تفکیک ساکنین و متناسب با مدت زمان سکونت آن‌ها در ساختمان محاسبه شود.  

**اطلاعات ورودی:**  
- اطلاعات فاکتورها شامل: نوع (عنوان)، مبلغ کل، تاریخ شروع و پایان در یک فایل ذخیره می‌شود.  
- تنظیمات فرمول‌های محاسباتی هر نوع هزینه در یک فایل جداگانه ذخیره می‌شود.  
- اطلاعات ساکنین شامل: شماره واحد، نام ساکن، تاریخ شروع سکونت، و تاریخ پایان سکونت در یک فایل دیگر قرار دارد.  

**خروجی سیستم:**  
خروجی باید مجموعه‌ای از فایل‌ها باشد که نام هر فایل شماره واحد است و محتوای آن شامل لیست سهم واحد به ازای هر ساکن می‌باشد. این لیست باید شامل موارد زیر باشد:  
۱. نام ساکن، تاریخ شروع سکونت، تاریخ پایان سکونت.  
۲. عنوان هزینه، تاریخ شروع فاکتور، تاریخ پایان فاکتور، مبلغ کل، و فرمول مورد استفاده برای محاسبه سهم ساکن بر اساس بازه زمانی سکونت.  

**قابلیت توسعه:**  
برنامه باید به گونه‌ای طراحی شود که در آینده بتوان ورودی را از منابع مختلف (مانند بانک اطلاعاتی) خواند و خروجی را در قالب‌های متفاوت (مانند فایل متنی، HTML، یا Excel) ارائه داد. در پیاده‌سازی اولیه، خواندن اطلاعات از فایل و نوشتن خروجی در فایل متنی کافی است.  

**جمع‌بندی:**  
سیستم باید توانایی محاسبه سهم هر واحد از هزینه‌های مشترک را بر اساس فرمول‌های تعریف‌شده و مدت زمان سکونت ساکنین داشته باشد و نتایج را به صورت ساختارمند در فایل‌های جداگانه ذخیره کند.
